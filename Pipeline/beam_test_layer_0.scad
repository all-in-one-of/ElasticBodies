module drawBasicShape(x1, y1, x2, y2, width)
{
	length = sqrt((x1-x2)*(x1-x2) + (y1-y2)*(y1-y2));
	if (width!=0.0) {
		square(size = [width, length], center = false);
		translate([width/2.0, 0, 0]) circle(d=width);
		translate([width/2.0, length, 0]) circle(d=width);
	}
}

module translateAndRotate(x1, y1, x2, y2, width)
{
	if (width != 0.0) {
		angle = atan((y2-y1)/(x2-x1)) +270;
		if (x2>=x1) {
			translate([x1, y1, 0.0]) rotate([0.0, 0.0, angle]) translate([-width/2.0, 0.0, 0.0]) drawBasicShape(x1, y1, x2, y2, width);
		}
		else {
			translate([x1, y1, 0.0]) rotate([0.0, 0.0, angle+180]) translate([-width/2.0, 0.0, 0.0]) drawBasicShape(x1, y1, x2, y2, width);		}
	}
}

$fn=50;

points0 = [
[76.60000000, 96.60000000, 0.00000000],
[123.40000000, 96.60000000, 0.63262349],
[123.40000000, 103.40000000, 0.63266211],
[76.60000000, 103.40000000, 0.63262349],
[76.60000000, 96.66000000, 0.63265873],
[75.97500000, 95.97500000, 0.00000000],
[124.02500000, 95.97500000, 0.63262062],
[124.02500000, 104.02500000, 0.63263899],
[75.97500000, 104.02500000, 0.63262062],
[75.97500000, 96.03500000, 0.63263596],
[75.35000000, 95.35000000, 0.00000000],
[124.65000000, 95.35000000, 0.63261912],
[124.65000000, 104.65000000, 0.63261562],
[75.35000000, 104.65000000, 0.63261912],
[75.35000000, 95.41000000, 0.63261935],
[75.69600000, 95.55000000, 0.00000000],
[76.97800000, 102.71700000, 0.00000000],
[77.28300000, 103.02200000, 0.63511262],
[78.17100000, 103.02200000, 0.63468110],
[76.97800000, 101.82900000, 0.63478426],
[76.97800000, 100.94200000, 0.63529986],
[79.05800000, 103.02200000, 0.63500002],
[79.94600000, 103.02200000, 0.63468110],
[76.97800000, 100.05400000, 0.63490172],
[76.97800000, 99.16600000, 0.63468110],
[80.83400000, 103.02200000, 0.63485973],
[81.72100000, 103.02200000, 0.63523206],
[76.97800000, 98.27900000, 0.63494023],
[76.97800000, 97.39100000, 0.63468110],
[82.60900000, 103.02200000, 0.63489030],
[83.49600000, 103.02200000, 0.63529986],
[77.45300000, 96.97800000, 0.63494988],
[78.34000000, 96.97800000, 0.63529986],
[84.38400000, 103.02200000, 0.63490445],
[85.27100000, 103.02200000, 0.63523206],
[79.22800000, 96.97800000, 0.63494988],
[80.11500000, 96.97800000, 0.63529986],
[86.15900000, 103.02200000, 0.63490445],
[87.04600000, 103.02200000, 0.63529986],
[81.00300000, 96.97800000, 0.63494988],
[81.89000000, 96.97800000, 0.63529986],
[87.93400000, 103.02200000, 0.63490445],
[88.82100000, 103.02200000, 0.63523206],
[82.77800000, 96.97800000, 0.63494988],
[83.66500000, 96.97800000, 0.63529986],
[89.70900000, 103.02200000, 0.63490445],
[90.59600000, 103.02200000, 0.63529986],
[84.55300000, 96.97800000, 0.63494988],
[85.44100000, 96.97800000, 0.63468110],
[91.48400000, 103.02200000, 0.63494988],
[92.37100000, 103.02200000, 0.63523206],
[86.32800000, 96.97800000, 0.63494988],
[87.21600000, 96.97800000, 0.63468110],
[93.25900000, 103.02200000, 0.63494988],
[94.14600000, 103.02200000, 0.63529986],
[88.10300000, 96.97800000, 0.63494988],
[88.99100000, 96.97800000, 0.63468110],
[95.03400000, 103.02200000, 0.63494988],
[95.92100000, 103.02200000, 0.63529986],
[89.87800000, 96.97800000, 0.63494284],
[90.76600000, 96.97800000, 0.63468110],
[96.80900000, 103.02200000, 0.63494988],
[97.69600000, 103.02200000, 0.63529986],
[91.65300000, 96.97800000, 0.63494988],
[92.54100000, 96.97800000, 0.63468110],
[98.58400000, 103.02200000, 0.63494988],
[99.47200000, 103.02200000, 0.63468110],
[93.42800000, 96.97800000, 0.63489742],
[94.31600000, 96.97800000, 0.63468110],
[100.35900000, 103.02200000, 0.63494988],
[101.24700000, 103.02200000, 0.63468110],
[95.20300000, 96.97800000, 0.63490445],
[96.09100000, 96.97800000, 0.63468110],
[102.13400000, 103.02200000, 0.63494988],
[103.02200000, 103.02200000, 0.63468110],
[96.97800000, 96.97800000, 0.63490445],
[97.86600000, 96.97800000, 0.63461338],
[103.90900000, 103.02200000, 0.63494988],
[104.79700000, 103.02200000, 0.63468110],
[98.75300000, 96.97800000, 0.63490445],
[99.64100000, 96.97800000, 0.63468110],
[105.68400000, 103.02200000, 0.63494988],
[106.57200000, 103.02200000, 0.63468110],
[100.52800000, 96.97800000, 0.63490445],
[101.41600000, 96.97800000, 0.63461338],
[107.45900000, 103.02200000, 0.63494988],
[108.34700000, 103.02200000, 0.63468110],
[102.30300000, 96.97800000, 0.63490445],
[103.19100000, 96.97800000, 0.63468110],
[109.23400000, 103.02200000, 0.63494988],
[110.12200000, 103.02200000, 0.63468110],
[104.07900000, 96.97800000, 0.63494988],
[104.96600000, 96.97800000, 0.63529986],
[111.00900000, 103.02200000, 0.63494284],
[111.89700000, 103.02200000, 0.63468110],
[105.85400000, 96.97800000, 0.63494988],
[106.74100000, 96.97800000, 0.63529986],
[112.78400000, 103.02200000, 0.63494988],
[113.67200000, 103.02200000, 0.63468110],
[107.62900000, 96.97800000, 0.63494988],
[108.51600000, 96.97800000, 0.63529986],
[114.55900000, 103.02200000, 0.63494284],
[115.44700000, 103.02200000, 0.63468110],
[109.40400000, 96.97800000, 0.63494988],
[110.29100000, 96.97800000, 0.63529986],
[116.33400000, 103.02200000, 0.63494988],
[117.22200000, 103.02200000, 0.63468110],
[111.17900000, 96.97800000, 0.63494988],
[112.06600000, 96.97800000, 0.63529986],
[118.11000000, 103.02200000, 0.63489742],
[118.99700000, 103.02200000, 0.63529986],
[112.95400000, 96.97800000, 0.63494988],
[113.84100000, 96.97800000, 0.63529986],
[119.88500000, 103.02200000, 0.63490445],
[120.77200000, 103.02200000, 0.63529986],
[114.72900000, 96.97800000, 0.63494988],
[115.61600000, 96.97800000, 0.63529986],
[121.66000000, 103.02200000, 0.63489742],
[122.54700000, 103.02200000, 0.63529986],
[116.50400000, 96.97800000, 0.63494988],
[117.39100000, 96.97800000, 0.63529986],
[123.02200000, 102.60900000, 0.63489785],
[123.02200000, 101.72100000, 0.63468110],
[118.27900000, 96.97800000, 0.63493127],
[119.16600000, 96.97800000, 0.63529986],
[123.02200000, 100.83400000, 0.63485973],
[123.02200000, 99.94600000, 0.63468110],
[120.05400000, 96.97800000, 0.63490172],
[120.94100000, 96.97800000, 0.63529986],
[123.02200000, 99.05900000, 0.63475656],
[123.02200000, 98.17100000, 0.63468110],
[121.82900000, 96.97800000, 0.63478426],
[122.71700000, 96.97800000, 0.63468110],
[123.02200000, 97.28300000, 0.63525203],
];

translate([0.0, 0.0, 0.40000000]) {
	linear_extrude(height = 0.40000000, center = false, convexity = 10, twist = 0) {
		union() {
			for( i=[0:len(points0)-2] ){ 
				x1 = points0[i][0];
				y1 = points0[i][1];
				x2 = points0[i+1][0];
				y2 = points0[i+1][1];
				width = points0[i+1][2];
				translateAndRotate(x1, y1, x2, y2, width);
			}
		}
	}
}
